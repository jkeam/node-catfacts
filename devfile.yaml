schemaVersion: 2.1.0
metadata:
  generateName: node-catfacts-
projects:
  - name: node-catfacts
    git:
      remotes:
        origin: "https://github.com/jkeam/node-catfacts.git"
      checkoutFrom:
        revision: main
components:
  - name: tools
    container:
      endpoints:
        - exposure: public
          name: nodejs
          protocol: http
          targetPort: 3000
      image: 'registry.redhat.io/devspaces/udi-rhel8@sha256:99ff1b5c541855e4cf368816c4bcdcdc86d32304023f72c4443213a4032ef05b'
      memoryLimit: 1G
      cpuLimit: 1000m
      mountSources: true
      sourceMapping: /projects
      volumeMounts:
        - name: npm
          path: /home/user/.npm
      env:
        - name: "DB_URL"
          value: "postgres://catuser:catuserpassword@localhost:5432/catfacts"
        - name: "PORT"
          value: "3000"
  - name: npm
    volume:
      size: 1G
